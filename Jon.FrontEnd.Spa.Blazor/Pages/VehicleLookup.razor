@page "/vehiclelookup"

@using Jon.FrontEnd.Spa.Blazor.Entities

<section class="vehicle-card-background">

    <h3 class="page-title">Lookup vehicle details</h3>

    <EditForm Model="@Vehicle" OnValidSubmit="@HandleValidSubmit">
        <DataAnnotationsValidator />
        <div class="row mb-3 reg-input-height">
            <label for="regInput" class="col-form-label col-md-3">Enter Vehicle Registration: </label>
            <div class="col-md-8">
                <InputText id="regInput" class="form-control col-md-8 reg-input-width" @bind-Value="@Vehicle.Registration" placeholder="eg: LS07NWE"></InputText>
                <ValidationMessage class="offset-md-0 col-md-8  text-danger" For="@(() => Vehicle.Registration)" />
            </div>
        </div>
        <div class="mt-3">
            <button type="submit" class="btn btn-primary me-1">Search</button>
            <button type="button" class="btn btn-outline-primary ms-1" @onclick="@NavigateToHome">Back to home</button>
        </div>
    </EditForm>

    <BusyIndicator Busy="@_loading"><img class="busy-indicator align-content-center" src="images/LoadingAnimation.gif" /></BusyIndicator>
    <VehicleCard Vehicle="_searchResult?.FirstOrDefault()"></VehicleCard>
    <ErrorPopup ErrorMessage="@_errorMessage"></ErrorPopup>

</section>